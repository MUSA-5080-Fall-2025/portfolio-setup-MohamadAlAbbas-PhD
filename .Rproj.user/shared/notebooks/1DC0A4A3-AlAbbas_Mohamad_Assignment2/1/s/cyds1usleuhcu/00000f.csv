"0","#| label: Demographic Data"
"0","#| message: false"
"0","#| warning: false"
"0","#| results: ""hide"" #Remove this to see results of summary table"
"0",""
"0","Demographic_variables <- c("
"0","  total_pop = ""B01003_001"",  # Total population"
"0","  medhhinc  = ""B19013_001"",  # Median household income"
"0","  # Male population by age group (65+)"
"0","  m65_66   = ""B01001_020"","
"0","  m67_69   = ""B01001_021"","
"0","  m70_74   = ""B01001_022"","
"0","  m75_79   = ""B01001_023"","
"0","  m80_84   = ""B01001_024"","
"0","  m85plus  = ""B01001_025"","
"0","  # Female population by age group (65+)"
"0","  f65_66   = ""B01001_044"","
"0","  f67_69   = ""B01001_045"","
"0","  f70_74   = ""B01001_046"","
"0","  f75_79   = ""B01001_047"","
"0","  f80_84   = ""B01001_048"","
"0","  f85plus  = ""B01001_049"""
"0",")"
"0",""
"0","PA_acs <- get_acs("
"0","  geography = ""tract"","
"0","  variables = Demographic_variables,"
"0","  state = ""PA"","
"0","  year = 2022,"
"0","  survey = ""acs5"","
"0","  output = ""wide"")"
"0",""
"0","# The `mutate()` function sums the estimates for all male and female"
"0","# age groups aged 65 and above to produce a new variable `pop65plus`."
"0",""
"0","PA_acs <- PA_acs %>%"
"0","  mutate(pop65plus = ("
"0","    m65_66E + m67_69E + m70_74E + m75_79E + m80_84E + m85plusE +"
"0","    f65_66E + f67_69E + f70_74E + f75_79E + f80_84E + f85plusE"
"0","  ))"
"0",""
"0","# Merge the demographic data (`PA_acs`) with the tract shapefile"
"0","# (`census_tracts`) by the unique GEOID identifier."
"0",""
"0","PA_tracts <- census_tracts %>%"
"0","  left_join(PA_acs, by = ""GEOID"")"
"0",""
"0","# income across tracts:"
"0",""
"0","summary(PA_tracts$medhhincE)"
"1","   Min. "
"1","1st Qu. "
"1"," Median "
"1","   Mean "
"1","3rd Qu. "
"1","   Max. "
"1","   NA's "
"1","
"
"1","  11558 "
"1","  55924 "
"1","  70188 "
"1","  77527 "
"1","  93287 "
"1"," 250001 "
"1","     62 "
"1","
"
