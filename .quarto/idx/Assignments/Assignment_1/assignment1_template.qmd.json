{"title":"Assignment 1: Census Data Quality for Policy Decisions","markdown":{"yaml":{"title":"Assignment 1: Census Data Quality for Policy Decisions","subtitle":"Evaluating Data Reliability for Algorithmic Decision-Making","author":"Mohamad Al Abbas","date":"today","format":{"html":{"code-fold":false,"toc":true,"toc-location":"left","theme":"cosmo"}},"execute":{"warning":false,"message":false}},"headingText":"Assignment Overview","containsRefs":false,"markdown":"\n\n\n## Scenario\n\nYou are a data analyst for the **California Department of Human Services**. The department is considering implementing an algorithmic system to identify communities that should receive priority for social service funding and outreach programs. Your supervisor has asked you to evaluate the quality and reliability of available census data to inform this decision.\n \nDrawing on our Week 2 discussion of algorithmic bias, you need to assess not just what the data shows, but how reliable it is and what communities might be affected by data quality issues.\n\n## Learning Objectives\n\n- Apply dplyr functions to real census data for policy analysis\n- Evaluate data quality using margins of error \n- Connect technical analysis to algorithmic decision-making\n- Identify potential equity implications of data reliability issues\n- Create professional documentation for policy stakeholders\n\n# Part 1: Portfolio Integration\n\n# Setup\n\n```{r setup}\n# Load required packages (hint: you need tidycensus, tidyverse, and knitr)\n\nlibrary(tidycensus)\nlibrary(tidyverse)\nlibrary(knitr)\n\n# Set your Census API key\n\ncensus_api_key(\"807ea1c0820a3e1e46dde3c53438622057fcc1ba\")\n\n# Choose your state for analysis - assign it to a variable called my_state\n\nmy_state <- \"California\"\n```\n\n**State Selection:** I have chosen California for this analysis because: I am currently on working on the wildfires that had occurred there with a few partners from UC: San Diego, so I know a bit about the state and pop density + I wish to visit it during the winter break :)!\n\n# Part 2: County-Level Resource Assessment\n\n## 2.1 Data Retrieval\n\n**Your Task:** Use `get_acs()` to retrieve county-level data for your chosen state.\n\n**Requirements:**\n- Geography: county level\n- Variables: median household income (B19013_001) and total population (B01003_001)  \n- Year: 2022\n- Survey: acs5\n- Output format: wide\n\n**Hint:** Remember to give your variables descriptive names using the `variables = c(name = \"code\")` syntax.\n\n```{r county-data}\n# Write your get_acs() code here\ncounty_vars <- c( med_hh_income = \"B19013_001\", total_pop     = \"B01003_001\")\n\ncounty_raw <- get_acs(geography = \"county\", state =  my_state, survey = \"acs5\", year = 2022, variables = county_vars, output = \"wide\")\n\n# Clean the county names to remove state name and \"County\" \n# Hint: use mutate() with str_remove()\n\ncounty <- county_raw %>%\n  mutate(\n    county_name = str_remove(NAME, paste0(\", \", my_state)),\n    county_name = str_remove(county_name, \" County$\")\n  ) %>%\n  select(GEOID, county_name, med_hh_incomeE, med_hh_incomeM, total_popE, total_popM)\n\n# Display the first few rows\nhead(county)\n```\n\n## 2.2 Data Quality Assessment\n\n**Your Task:** Calculate margin of error percentages and create reliability categories.\n\n**Requirements:**\n- Calculate MOE percentage: (margin of error / estimate) * 100\n- Create reliability categories:\n  - High Confidence: MOE < 5%\n  - Moderate Confidence: MOE 5-10%  \n  - Low Confidence: MOE > 10%\n- Create a flag for unreliable estimates (MOE > 10%)\n\n**Hint:** Use `mutate()` with `case_when()` for the categories.\n\n```{r income-reliability}\n# Calculate MOE percentage and reliability categories using mutate()\ncounty_reliability <- county %>%\n  mutate(\n    moe_percentage = round((med_hh_incomeM/med_hh_incomeE) * 100, 2),\n    Reliability = case_when(\n      moe_percentage < 5 ~ \"High Confidence\",\n      moe_percentage >= 5 & moe_percentage <= 10 ~ \"Moderate Confidence\",\n      moe_percentage > 10 ~ \"Low Confidence\"\n    )\n  )\n\n# Create a summary showing count of counties in each reliability category\n# Hint: use count() and mutate() to add percentages\n\nreliability_summary <- county_reliability %>%\n  count(Reliability, name = \"Count\") %>%\n  mutate(Proportion = round(100 * Count / sum(Count), 1))\n\nkable(reliability_summary, caption = \"County Income Reliability Categories\")\n\n```\n\n## 2.3 High Uncertainty Counties\n\n**Your Task:** Identify the 5 counties with the highest MOE percentages.\n\n**Requirements:**\n- Sort by MOE percentage (highest first)\n- Select the top 5 counties\n- Display: county name, median income, margin of error, MOE percentage, reliability category\n- Format as a professional table using `kable()`\n\n**Hint:** Use `arrange()`, `slice()`, and `select()` functions.\n\n```{r high-uncertainty}\n# Create table of top 5 counties by MOE percentage\n\ntop5 <- county_reliability %>%\n  arrange(desc(moe_percentage)) %>%\n  slice(1:5) %>%\n  select(\n    county_name,\n    med_hh_incomeE,\n    med_hh_incomeM,\n    moe_percentage,\n    Reliability\n  )\n  \n# Format as table with kable() - include appropriate column names and caption\n\nkable(\n  top5,\n  caption = \"Top 5 Counties by Median Household Income MOE Percentage\",\n  col.names = c(\"County\", \"Median Income\", \"Margin of Error\", \"MOE %\", \"Reliability Category\"),\n  digits = 2,\n  align = c(\"l\", \"c\", \"c\", \"c\", \"c\"),\n  format.args = list(big.mark = \",\")\n)\n```\n\n**Data Quality Commentary:**\n\nAll five of these counties are among the lowest-density areas in California. Because their populations are so small, the ACS relies on limited samples to generate median income estimates, which introduces greater variability. This explains the large disparities and the relatively high margins of error (11â€“19%). As a result, algorithms that classify or rank counties using these figures could produce erroneous outcomes if they neglect the margins of error. For example, Alpine County appears to have a median income exceeding \\$100,000, but its margin of error is more than $17,000 an uncertainty that is enormous relative to its ~1,000 residents. This is both a sampling size and representativeness issue, highlighting how misleading the raw point estimate can be without MOE context.\n\n# Part 3: Neighborhood-Level Analysis\n\n## 3.1 Focus Area Selection\n\n**Your Task:** Select 2-3 counties from your reliability analysis for detailed tract-level study.\n\n**Strategy:** Choose counties that represent different reliability levels (e.g., 1 high confidence, 1 moderate, 1 low confidence) to compare how data quality varies.\n\n```{r select-counties}\n# Use filter() to select 2-3 counties from your county_reliability data\n# Store the selected counties in a variable called selected_counties\n\nselected_counties <- bind_rows(\n  county_reliability %>%\n    filter(Reliability == \"High Confidence\") %>%\n    slice(1),\n  county_reliability %>%\n    filter(Reliability == \"Moderate Confidence\") %>%\n    slice(1),\n  county_reliability %>%\n    filter(Reliability == \"Low Confidence\") %>%\n    slice(1),\n) %>%\n  select(\n    County = county_name,\n    `Median Income` = med_hh_incomeE,\n    `Margin of Error` = med_hh_incomeM,\n    `MOE %` = moe_percentage,\n    Reliability = Reliability,\n    Population = total_popE\n  )\n\n# Display the selected counties with their key characteristics\n# Show: county name, median income, MOE percentage, reliability category\nkable(\n  selected_counties,\n  caption = \"Largest County by Population in Each Reliability Category\",\n  align = c(\"l\", \"r\", \"r\", \"r\", \"l\", \"r\"),\n  format.args = list(big.mark = \",\")\n)\n```\n\n**Comment on the output:** Because I specified no randomness in how the slice is sampling the data across the reliability categories, it quite literally picked the first match it had. Which is why all three are arranged alphabetically. On the positive side we still have atleast 1 sample from each category and Alpine is still with us :)! The lowest county by density in California. \n\n## 3.2 Tract-Level Demographics\n\n**Your Task:** Get demographic data for census tracts in your selected counties.\n\n**Requirements:**\n- Geography: tract level\n- Variables: white alone (B03002_003), Black/African American (B03002_004), Hispanic/Latino (B03002_012), total population (B03002_001)\n- Use the same state and year as before\n- Output format: wide\n- **Challenge:** You'll need county codes, not names. Look at the GEOID patterns in your county data for hints.\n\n```{r tract-demographics}\n# Define your race/ethnicity variables with descriptive names\n\nrace_vars <- c(\n  total    = \"B03002_001\",\n  white    = \"B03002_003\",\n  black    = \"B03002_004\",\n  hispanic = \"B03002_012\"\n)\n\n\n# Use get_acs() to retrieve tract-level data\n# Hint: You may need to specify county codes in the county parameter\n\nselected_geoid <- c(\"06001\",\"06003\",\"06005\")  # Alameda, Alpine, Amador\n\ncounty_codes <- stringr::str_sub(selected_geoid, 3, 5)  # -> \"001\",\"003\",\"005\"\n\ntract_raw <- get_acs(\n  geography = \"tract\",\n  state     = my_state,\n  county    = county_codes,\n  survey    = \"acs5\",\n  year      = 2022,\n  variables = race_vars,\n  output    = \"wide\"\n)\n\n# Calculate percentage of each group using mutate()\n# Create percentages for white, Black, and Hispanic populations\n\ntract_percent <- tract_raw %>%\n  mutate(\n    county_code  = substr(GEOID, 3, 5),\n    pct_white    = 100 * (whiteE    / totalE),\n    pct_black    = 100 * (blackE    / totalE),\n    pct_hispanic = 100 * (hispanicE / totalE),\n    # Make a readable tract label and remove state/country suffixes\n    tract_label  = stringr::str_remove(NAME, paste0(\", \", my_state)),\n    tract_label  = stringr::str_remove(tract_label, \", United States$\")\n  ) %>%\n  left_join(\n    county %>%\n      filter(GEOID %in% selected_geoid) %>%\n      transmute(\n        county_code = substr(GEOID, 3, 5),\n        county_name\n      ),\n    by = \"county_code\"\n  ) %>%\n  select(\n    GEOID, county_name, tract_label,\n    totalE, whiteE, blackE, hispanicE,\n    totalM, whiteM, blackM, hispanicM,\n    pct_white, pct_black, pct_hispanic\n  )\n\n# Add readable tract and county name columns using str_extract() or similar\n\nkable(\n  tract_percent %>%\n    select(\n      County = county_name,\n      Tract  = tract_label,\n      `White (%)`    = pct_white,\n      `Black (%)`    = pct_black,\n      `Hispanic (%)` = pct_hispanic\n    ) %>%\n    arrange(County, Tract),\n  caption = \"Tract-Level Racial/Ethnic Composition in Selected Counties\",\n  align = c(\"l\",\"l\",\"r\",\"r\",\"r\"),\n  format.args = list(big.mark = \",\", digits = 1)\n)\n\n```\n\n## 3.3 Demographic Analysis\n\n**Your Task:** Analyze the demographic patterns in your selected areas.\n\n```{r demographic-analysis}\n# Find the tract with the highest percentage of Hispanic/Latino residents\n# Hint: use arrange() and slice() to get the top tract\n\ntop_hispanic_tract <- tract_percent %>%\n  arrange(desc(pct_hispanic)) %>%\n  slice(1) %>%\n  select(GEOID, tract_label, county_name, pct_hispanic)\n\nkable(top_hispanic_tract, caption = \"Tract with Highest % Hispanic/Latino\")\n\n# Calculate average demographics by county using group_by() and summarize()\n# Show: number of tracts, average percentage for each racial/ethnic group\n\ncounty_demo_avgs <- tract_percent %>%\n  group_by(county_name) %>%\n  summarise(\n    \"Number of Tracts\" = n(),\n    \"Average White Percentage\" = mean(pct_white, na.rm = TRUE),\n    \"Average Black Percentage\" = mean(pct_black, na.rm = TRUE),\n    \"Average Hispanic Percentage\"  = mean(pct_hispanic, na.rm = TRUE)\n  )\n\n# Create a nicely formatted table of your results using kable()\n\nkable(\n  county_demo_avgs,\n  caption = \"Average Tract Demographics by County\",\n  digits = 1,\n  align = c(\"l\",\"c\",\"c\",\"c\",\"c\"),\n  col.names = c(\"County Names\", \"Number of Tracts\", \"Average White Percentage\",\"Average Black Percentage\",\"Average Hispanic Percentage\")\n)\n\n```\n\n# Part 4: Comprehensive Data Quality Evaluation\n\n## 4.1 MOE Analysis for Demographic Variables\n\n**Your Task:** Examine margins of error for demographic variables to see if some communities have less reliable data.\n\n**Requirements:**\n- Calculate MOE percentages for each demographic variable\n- Flag tracts where any demographic variable has MOE > 15%\n- Create summary statistics\n\n```{r demographic-moe}\n# Calculate MOE percentages for white, Black, and Hispanic variables\n# Hint: use the same formula as before (margin/estimate * 100)\n\n# Create a flag for tracts with high MOE on any demographic variable\n# Use logical operators (| for OR) in an ifelse() statement\n\ncounty_codes_state <- unique(stringr::str_sub(county$GEOID, 3, 5))\n\nrace_vars <- c(\n  total    = \"B03002_001\",\n  white    = \"B03002_003\",\n  black    = \"B03002_004\",\n  hispanic = \"B03002_012\"\n)\n\ntract_state_raw <- get_acs(\n  geography = \"tract\",\n  state     = my_state,\n  county    = county_codes_state,  # all counties in the state\n  survey    = \"acs5\",\n  year      = 2022,\n  variables = race_vars,\n  output    = \"wide\"\n)\n\ntract_state_percent <- tract_state_raw %>%\n  mutate(\n    county_code  = substr(GEOID, 3, 5),\n    pct_white    = 100 * (whiteE    / totalE),\n    pct_black    = 100 * (blackE    / totalE),\n    pct_hispanic = 100 * (hispanicE / totalE),\n    tract_label  = stringr::str_remove(NAME, paste0(\", \", my_state)),\n    tract_label  = stringr::str_remove(tract_label, \", United States$\")\n  ) %>%\n  left_join(\n    county %>%\n      transmute(\n        county_code = substr(GEOID, 3, 5),\n        county_name\n      ),\n    by = \"county_code\"\n  )\n\ntract_quality <- tract_state_percent %>%\n  mutate(\n    moe_total_pct    = 100 * (totalM    / totalE),\n    moe_white_pct    = 100 * (whiteM    / whiteE),\n    moe_black_pct    = 100 * (blackM    / blackE),\n    moe_hispanic_pct = 100 * (hispanicM / hispanicE),\n    high_moe_flag = (moe_white_pct > 15) | (moe_black_pct > 15) | (moe_hispanic_pct > 15)\n  )\n\ntract_quality_summary <- tract_quality %>%\n  summarise(\n    tracts_total     = n(),\n    tracts_high_moe  = sum(high_moe_flag, na.rm = TRUE),\n    percent_high_moe = round(100 * tracts_high_moe / tracts_total, 1)\n  )\n\nkable(\n  tract_quality_summary,\n  caption   = \"Tract-Level High-MOE Summary (>15% on any demographic variable) â€” Statewide\",\n  col.names = c(\"Total Tracts\", \"High-MOE Tracts\", \"Percent High-MOE (%)\"),\n  align     = \"c\"\n)\n```\n\n## 4.2 Pattern Analysis\n\n**Your Task:** Investigate whether data quality problems are randomly distributed or concentrated in certain types of communities.\n\n```{r pattern-analysis}\n# Group tracts by whether they have high MOE issues\n# Calculate average characteristics for each group:\n# - population size, demographic percentages\n\npattern_table <- tract_quality %>%\n  group_by(high_moe_flag, county_name) %>%\n  summarise(\n    tracts         = n(),\n    avg_pop        = mean(totalE, na.rm = TRUE),\n    avg_pct_white  = mean(pct_white, na.rm = TRUE),\n    avg_pct_black  = mean(pct_black, na.rm = TRUE),\n    avg_pct_hispanic = mean(pct_hispanic, na.rm = TRUE),\n    .groups = \"drop\"\n  ) %>%\n  arrange(desc(high_moe_flag), county_name)\n\nkable(\n  pattern_table,\n  caption = \"Characteristics by High-MOE Status (Any Demographic Variable > 15% MOE) â€” Statewide\",\n  col.names = c(\n    \"High-MOE (Any >15%)\",\n    \"County\",\n    \"Tracts\",\n    \"Avg Pop\",\n    \"Avg White (%)\",\n    \"Avg Black (%)\",\n    \"Avg Hispanic (%)\"\n  ),\n  align = c(\"c\",\"l\",\"r\",\"r\",\"r\",\"r\",\"r\"),\n  digits = c(NA, NA, 0, 0, 1, 1, 1),\n  format.args = list(big.mark = \",\")\n)\n\ntract_flag_driver <- tract_quality %>%\n  mutate(\n    flag_white    = moe_white_pct    > 15,\n    flag_black    = moe_black_pct    > 15,\n    flag_hispanic = moe_hispanic_pct > 15,\n    driver_groups = case_when(\n      flag_white & !flag_black & !flag_hispanic ~ \"White\",\n      !flag_white & flag_black & !flag_hispanic ~ \"Black\",\n      !flag_white & !flag_black & flag_hispanic ~ \"Hispanic\",\n      flag_white | flag_black | flag_hispanic   ~ \"Multiple\",\n      TRUE                                       ~ \"None\"\n    )\n  )\n\ndriver_totals <- tract_flag_driver %>%\n  filter(high_moe_flag) %>%\n  summarise(\n    White    = sum(flag_white,    na.rm = TRUE),\n    Black    = sum(flag_black,    na.rm = TRUE),\n    Hispanic = sum(flag_hispanic, na.rm = TRUE)\n  ) %>%\n  tidyr::pivot_longer(everything(),\n                      names_to = \"Group\",\n                      values_to = \"Flagged Tracts\")\n\nkable(\n  driver_totals %>% arrange(desc(`Flagged Tracts`)),\n  caption   = \"Which Groups Drove High-MOE Flags (MOE% > 15) â€” Statewide\",\n  col.names = c(\"Group\", \"Flagged Tracts\"),\n  align     = c(\"l\",\"r\"),\n  format.args = list(big.mark = \",\")\n)\n\n```\n\n**Pattern Analysis:** If we are to detect patterns using the instructions given, then 99.9% of all census tracts are within the MOE margins, meaning there is some type of data error present. That is a clear indication that the issue is effectively random at the tract level. However, collapsing the results by demographic group rather than by tract reveals that the burden of error is not evenly shared: it falls overwhelmingly on minority populations, with Black communities the most affected. This stems from well-known challenges of under-sampling in the ACS, which causes large variations within smaller racial categories. Tracts with high MOEs tend to have smaller populations overall, amplifying sampling error, and even within White-majority tracts the subgroup estimates for Black and Hispanic residents frequently exceed the 15% MOE threshold. In some cases, there are so few observations that subgroup estimates are unstable or missing altogether. Together, these dynamics show that while the pattern may look random at the tract level, the reliability problem is systematically tied to the representation of minority populations, raising clear concerns for algorithmic decision-making.\n\n\n\n# Part 5: Policy Recommendations\n\n## 5.1 Analysis Integration and Professional Summary\n\n**Executive Summary:**\n\nAcross county- and tract-level analyses, two systematic patterns consistently appear. First, tracts and counties with smaller populations tend to have disproportionately high margins of error, making their estimates far less stable than those from larger areas. Second, the reliability of racial and ethnic subgroup estimates varies sharply: Black and Hispanic populations are much more likely to have margins of error above 15%, and in some cases, the ACS does not capture enough observations to produce valid estimates. Together, these patterns show that measurement error is pervasive but not random it reflects structural features of both tract size and demographic composition.\n\nCommunities facing the greatest risk of algorithmic bias are those that are either very small and rural or racially/ethnically diverse. Rural tracts, because of small sample sizes, may be flagged as unreliable and thus deprioritized in automated systems, despite having genuine needs. At the same time, urban minority communities, particularly those with large Hispanic or Black populations, often show the highest subgroup MOEs, meaning their conditions could be systematically misclassified or underestimated. In both cases, the communities already at risk of marginalization are the same ones where the data is least reliable.\n\nThe drivers of these problems are structural. In rural areas, small sample sizes inflate margins of error, while in diverse urban tracts, underrepresentation of minority subgroups disrupts the accuracy of need assessments. This underrepresentation is tied to long-standing stratification in data collection, where certain groups are less visible in surveys, and to socio-spatial self-selection, where minorities concentrate in particular neighborhoods that are often harder to measure with precision. These processes produce systematic biases: the very communities whose needs are greatest â€” low-income, minority, and geographically marginalized â€” are those most likely to be misrepresented in the data.\n\nThe Department should treat reliability as central to its algorithmic framework. Specifically, it should (a) adjust for MOE when prioritizing communities, so noisy estimates are not misclassified as real differences; (b) avoid strict cutoffs in low-confidence areas by using broader eligibility bands; (c) supplement ACS data with administrative or community-level sources in minority-dense neighborhoods where subgroup reliability is weakest; and (d) incorporate transparency and equity audits to ensure that stratification and data gaps do not reinforce existing inequalities. By embedding these safeguards, the Department can ensure its allocation strategies are both statistically sound and socially just.\n\n## 6.3 Specific Recommendations\n\n**Your Task:** Create a decision framework for algorithm implementation.\n\n```{r recommendations-data}\n# Create a summary table using your county reliability data\n# Include: county name, median income, MOE percentage, reliability category\n\nrecommendations <- county_reliability %>%\n  select(\n    County = county_name,\n    `Median Income` = med_hh_incomeE,\n    `MOE %` = moe_percentage,\n    `Reliability Category` = Reliability\n  ) %>%\n  mutate(\n    Recommendation = case_when(\n      `Reliability Category` == \"High Confidence\"     ~ \"Safe for algorithmic decisions\",\n      `Reliability Category` == \"Moderate Confidence\" ~ \"Use with caution â€“ monitor outcomes\",\n      `Reliability Category` == \"Low Confidence\"      ~ \"Requires manual review or additional data\",\n      TRUE                                            ~ NA_character_\n    )\n  )\n\n# Add a new column with algorithm recommendations using case_when():\n# - High Confidence: \"Safe for algorithmic decisions\"\n# - Moderate Confidence: \"Use with caution - monitor outcomes\"  \n# - Low Confidence: \"Requires manual review or additional data\"\n\n# Format as a professional table with kable()\n\nkable(\n  recommendations %>%\n    arrange(Recommendation, County),\n  caption = \"Decision Framework for Algorithm Implementation (Arranged by Recommendation)\",\n  col.names = c(\"County\", \"Median Income\", \"MOE %\", \"Reliability Category\", \"Recommendation\"),\n  digits = 2,\n  format.args = list(big.mark = \",\")\n)\n\n\n```\n\n**Key Recommendations:**\n\n**Your Task:** Use your analysis results to provide specific guidance to the department.\n\n1. **Counties suitable for immediate algorithmic implementation:** Alameda, Butte, Contra Costa, El Dorado, Fresno, Humboldt, Imperial, Kern, Kings, Lake, Los Angeles, Madera Marin, Mendocino, Merced, Monterey, Napa,  Nevada, Orange, Placer, Riverside, Sacramento, San Bernardino, San Diego, San Francisco, San Joaquin, San Luis Obispo, San Mateo, Santa Barbara, Santa Clara, Santa Cruz, Shasta,Siskiyou, Solano, Sonoma, Stainislaus, Sutter, Tulare, Ventura, Yolo, and Yuba  \n\n2. **Counties requiring additional oversight:** Amador, Calaveras, Colusa, Del Norte, Glenn, Inyo, Lassen, Mariposa, Modoc, San Benito, Tehama, and Tuolumne\n\n3. **Counties needing alternative approaches:** Alpine, Mono, Plumas, Sierra, and Trinity\n\n## Questions for Further Investigation\n\n1. Are high-MOE tracts clustered spatially (e.g., along ruralâ€“urban boundaries or in specific regions of the state), or do they appear evenly dispersed?\n\n2. Do MOE patterns persist across ACS releases, or do they improve over time with larger samples? A time-series comparison could reveal whether underrepresentation of minority or rural communities is a persistent structural issue, similar to how you track flood or disaster impacts across years.\n\n3. How do MOE patterns for racial and ethnic groups vary across states? Are high MOEs for Hispanic and Black populations a uniquely California phenomenon, or do they reflect a broader national issue embedded in ACS sampling design?\n\n# Technical Notes\n\n**Data Sources:** \n- U.S. Census Bureau, American Community Survey 2018-2022 5-Year Estimates\n- Retrieved via tidycensus R package on [date]\n\n**Reproducibility:** \n- All analysis conducted in R version 4.5.1\n- Census API key required for replication\n- Complete code and documentation available at: https://musa-5080-fall-2025.github.io/portfolio-setup-MohamadAlAbbas-PhD/\n\n**Methodology Notes:**\nMargins of error (MOE) were standardized as percentages of the estimate, and counties were classified into High, Moderate, and Low Confidence categories using thresholds of <5%, 5â€“10%, and >10% respectively. Reliability flags at the tract level were set when any racial/ethnic subgroup estimate exceeded 15% MOE. No smoothing or imputation was applied to extreme or infinite MOE values; tracts with zero subgroup observations were retained as-is to reflect the raw survey limitations.\n\nCounty codes were extracted directly from GEOID strings to facilitate joins, and descriptive statistics were calculated using simple group means. Data outputs were formatted using kable() for presentation, and no additional modeling or weighting adjustments were performed beyond what the ACS provides.\n\n**Limitations:**\nSeveral limitations should be noted. The scale of our unit of analysis demonstrates that census tract-level analysis tends to carry high MOEs that makes interpretation and deployment of algorithmic solutions problematic rather it might be ideal to use county-level analysis. Second, subgroup estimates for racial and ethnic minorities often carried very high MOEs, and in some cases, no observations were available, producing infinite or undefined percentages. These issues were left unadjusted to remain consistent with assignment instructions but highlight important data reliability challenges.\n\nThird, the analysis is limited to a single 5-year ACS period; no longitudinal comparison was made to assess whether MOE patterns persist or shift over time. Finally, aggregating tract-level characteristics to the county level masks within-county variability that may be relevant for equity considerations. \n\n---\n\n## Submission Checklist\n\nBefore submitting your portfolio link on Canvas:\n\n- [ ] All code chunks run without errors\n- [ ] All \"[Fill this in]\" prompts have been completed\n- [ ] Tables are properly formatted and readable\n- [ ] Executive summary addresses all four required components\n- [ ] Portfolio navigation includes this assignment\n- [ ] Census API key is properly set \n- [ ] Document renders correctly to HTML\n\n**Remember:** Submit your portfolio URL on Canvas, not the file itself. Your assignment should be accessible at `your-portfolio-url/assignments/assignment_1/your_file_name.html`","srcMarkdownNoYaml":"\n\n# Assignment Overview\n\n## Scenario\n\nYou are a data analyst for the **California Department of Human Services**. The department is considering implementing an algorithmic system to identify communities that should receive priority for social service funding and outreach programs. Your supervisor has asked you to evaluate the quality and reliability of available census data to inform this decision.\n \nDrawing on our Week 2 discussion of algorithmic bias, you need to assess not just what the data shows, but how reliable it is and what communities might be affected by data quality issues.\n\n## Learning Objectives\n\n- Apply dplyr functions to real census data for policy analysis\n- Evaluate data quality using margins of error \n- Connect technical analysis to algorithmic decision-making\n- Identify potential equity implications of data reliability issues\n- Create professional documentation for policy stakeholders\n\n# Part 1: Portfolio Integration\n\n# Setup\n\n```{r setup}\n# Load required packages (hint: you need tidycensus, tidyverse, and knitr)\n\nlibrary(tidycensus)\nlibrary(tidyverse)\nlibrary(knitr)\n\n# Set your Census API key\n\ncensus_api_key(\"807ea1c0820a3e1e46dde3c53438622057fcc1ba\")\n\n# Choose your state for analysis - assign it to a variable called my_state\n\nmy_state <- \"California\"\n```\n\n**State Selection:** I have chosen California for this analysis because: I am currently on working on the wildfires that had occurred there with a few partners from UC: San Diego, so I know a bit about the state and pop density + I wish to visit it during the winter break :)!\n\n# Part 2: County-Level Resource Assessment\n\n## 2.1 Data Retrieval\n\n**Your Task:** Use `get_acs()` to retrieve county-level data for your chosen state.\n\n**Requirements:**\n- Geography: county level\n- Variables: median household income (B19013_001) and total population (B01003_001)  \n- Year: 2022\n- Survey: acs5\n- Output format: wide\n\n**Hint:** Remember to give your variables descriptive names using the `variables = c(name = \"code\")` syntax.\n\n```{r county-data}\n# Write your get_acs() code here\ncounty_vars <- c( med_hh_income = \"B19013_001\", total_pop     = \"B01003_001\")\n\ncounty_raw <- get_acs(geography = \"county\", state =  my_state, survey = \"acs5\", year = 2022, variables = county_vars, output = \"wide\")\n\n# Clean the county names to remove state name and \"County\" \n# Hint: use mutate() with str_remove()\n\ncounty <- county_raw %>%\n  mutate(\n    county_name = str_remove(NAME, paste0(\", \", my_state)),\n    county_name = str_remove(county_name, \" County$\")\n  ) %>%\n  select(GEOID, county_name, med_hh_incomeE, med_hh_incomeM, total_popE, total_popM)\n\n# Display the first few rows\nhead(county)\n```\n\n## 2.2 Data Quality Assessment\n\n**Your Task:** Calculate margin of error percentages and create reliability categories.\n\n**Requirements:**\n- Calculate MOE percentage: (margin of error / estimate) * 100\n- Create reliability categories:\n  - High Confidence: MOE < 5%\n  - Moderate Confidence: MOE 5-10%  \n  - Low Confidence: MOE > 10%\n- Create a flag for unreliable estimates (MOE > 10%)\n\n**Hint:** Use `mutate()` with `case_when()` for the categories.\n\n```{r income-reliability}\n# Calculate MOE percentage and reliability categories using mutate()\ncounty_reliability <- county %>%\n  mutate(\n    moe_percentage = round((med_hh_incomeM/med_hh_incomeE) * 100, 2),\n    Reliability = case_when(\n      moe_percentage < 5 ~ \"High Confidence\",\n      moe_percentage >= 5 & moe_percentage <= 10 ~ \"Moderate Confidence\",\n      moe_percentage > 10 ~ \"Low Confidence\"\n    )\n  )\n\n# Create a summary showing count of counties in each reliability category\n# Hint: use count() and mutate() to add percentages\n\nreliability_summary <- county_reliability %>%\n  count(Reliability, name = \"Count\") %>%\n  mutate(Proportion = round(100 * Count / sum(Count), 1))\n\nkable(reliability_summary, caption = \"County Income Reliability Categories\")\n\n```\n\n## 2.3 High Uncertainty Counties\n\n**Your Task:** Identify the 5 counties with the highest MOE percentages.\n\n**Requirements:**\n- Sort by MOE percentage (highest first)\n- Select the top 5 counties\n- Display: county name, median income, margin of error, MOE percentage, reliability category\n- Format as a professional table using `kable()`\n\n**Hint:** Use `arrange()`, `slice()`, and `select()` functions.\n\n```{r high-uncertainty}\n# Create table of top 5 counties by MOE percentage\n\ntop5 <- county_reliability %>%\n  arrange(desc(moe_percentage)) %>%\n  slice(1:5) %>%\n  select(\n    county_name,\n    med_hh_incomeE,\n    med_hh_incomeM,\n    moe_percentage,\n    Reliability\n  )\n  \n# Format as table with kable() - include appropriate column names and caption\n\nkable(\n  top5,\n  caption = \"Top 5 Counties by Median Household Income MOE Percentage\",\n  col.names = c(\"County\", \"Median Income\", \"Margin of Error\", \"MOE %\", \"Reliability Category\"),\n  digits = 2,\n  align = c(\"l\", \"c\", \"c\", \"c\", \"c\"),\n  format.args = list(big.mark = \",\")\n)\n```\n\n**Data Quality Commentary:**\n\nAll five of these counties are among the lowest-density areas in California. Because their populations are so small, the ACS relies on limited samples to generate median income estimates, which introduces greater variability. This explains the large disparities and the relatively high margins of error (11â€“19%). As a result, algorithms that classify or rank counties using these figures could produce erroneous outcomes if they neglect the margins of error. For example, Alpine County appears to have a median income exceeding \\$100,000, but its margin of error is more than $17,000 an uncertainty that is enormous relative to its ~1,000 residents. This is both a sampling size and representativeness issue, highlighting how misleading the raw point estimate can be without MOE context.\n\n# Part 3: Neighborhood-Level Analysis\n\n## 3.1 Focus Area Selection\n\n**Your Task:** Select 2-3 counties from your reliability analysis for detailed tract-level study.\n\n**Strategy:** Choose counties that represent different reliability levels (e.g., 1 high confidence, 1 moderate, 1 low confidence) to compare how data quality varies.\n\n```{r select-counties}\n# Use filter() to select 2-3 counties from your county_reliability data\n# Store the selected counties in a variable called selected_counties\n\nselected_counties <- bind_rows(\n  county_reliability %>%\n    filter(Reliability == \"High Confidence\") %>%\n    slice(1),\n  county_reliability %>%\n    filter(Reliability == \"Moderate Confidence\") %>%\n    slice(1),\n  county_reliability %>%\n    filter(Reliability == \"Low Confidence\") %>%\n    slice(1),\n) %>%\n  select(\n    County = county_name,\n    `Median Income` = med_hh_incomeE,\n    `Margin of Error` = med_hh_incomeM,\n    `MOE %` = moe_percentage,\n    Reliability = Reliability,\n    Population = total_popE\n  )\n\n# Display the selected counties with their key characteristics\n# Show: county name, median income, MOE percentage, reliability category\nkable(\n  selected_counties,\n  caption = \"Largest County by Population in Each Reliability Category\",\n  align = c(\"l\", \"r\", \"r\", \"r\", \"l\", \"r\"),\n  format.args = list(big.mark = \",\")\n)\n```\n\n**Comment on the output:** Because I specified no randomness in how the slice is sampling the data across the reliability categories, it quite literally picked the first match it had. Which is why all three are arranged alphabetically. On the positive side we still have atleast 1 sample from each category and Alpine is still with us :)! The lowest county by density in California. \n\n## 3.2 Tract-Level Demographics\n\n**Your Task:** Get demographic data for census tracts in your selected counties.\n\n**Requirements:**\n- Geography: tract level\n- Variables: white alone (B03002_003), Black/African American (B03002_004), Hispanic/Latino (B03002_012), total population (B03002_001)\n- Use the same state and year as before\n- Output format: wide\n- **Challenge:** You'll need county codes, not names. Look at the GEOID patterns in your county data for hints.\n\n```{r tract-demographics}\n# Define your race/ethnicity variables with descriptive names\n\nrace_vars <- c(\n  total    = \"B03002_001\",\n  white    = \"B03002_003\",\n  black    = \"B03002_004\",\n  hispanic = \"B03002_012\"\n)\n\n\n# Use get_acs() to retrieve tract-level data\n# Hint: You may need to specify county codes in the county parameter\n\nselected_geoid <- c(\"06001\",\"06003\",\"06005\")  # Alameda, Alpine, Amador\n\ncounty_codes <- stringr::str_sub(selected_geoid, 3, 5)  # -> \"001\",\"003\",\"005\"\n\ntract_raw <- get_acs(\n  geography = \"tract\",\n  state     = my_state,\n  county    = county_codes,\n  survey    = \"acs5\",\n  year      = 2022,\n  variables = race_vars,\n  output    = \"wide\"\n)\n\n# Calculate percentage of each group using mutate()\n# Create percentages for white, Black, and Hispanic populations\n\ntract_percent <- tract_raw %>%\n  mutate(\n    county_code  = substr(GEOID, 3, 5),\n    pct_white    = 100 * (whiteE    / totalE),\n    pct_black    = 100 * (blackE    / totalE),\n    pct_hispanic = 100 * (hispanicE / totalE),\n    # Make a readable tract label and remove state/country suffixes\n    tract_label  = stringr::str_remove(NAME, paste0(\", \", my_state)),\n    tract_label  = stringr::str_remove(tract_label, \", United States$\")\n  ) %>%\n  left_join(\n    county %>%\n      filter(GEOID %in% selected_geoid) %>%\n      transmute(\n        county_code = substr(GEOID, 3, 5),\n        county_name\n      ),\n    by = \"county_code\"\n  ) %>%\n  select(\n    GEOID, county_name, tract_label,\n    totalE, whiteE, blackE, hispanicE,\n    totalM, whiteM, blackM, hispanicM,\n    pct_white, pct_black, pct_hispanic\n  )\n\n# Add readable tract and county name columns using str_extract() or similar\n\nkable(\n  tract_percent %>%\n    select(\n      County = county_name,\n      Tract  = tract_label,\n      `White (%)`    = pct_white,\n      `Black (%)`    = pct_black,\n      `Hispanic (%)` = pct_hispanic\n    ) %>%\n    arrange(County, Tract),\n  caption = \"Tract-Level Racial/Ethnic Composition in Selected Counties\",\n  align = c(\"l\",\"l\",\"r\",\"r\",\"r\"),\n  format.args = list(big.mark = \",\", digits = 1)\n)\n\n```\n\n## 3.3 Demographic Analysis\n\n**Your Task:** Analyze the demographic patterns in your selected areas.\n\n```{r demographic-analysis}\n# Find the tract with the highest percentage of Hispanic/Latino residents\n# Hint: use arrange() and slice() to get the top tract\n\ntop_hispanic_tract <- tract_percent %>%\n  arrange(desc(pct_hispanic)) %>%\n  slice(1) %>%\n  select(GEOID, tract_label, county_name, pct_hispanic)\n\nkable(top_hispanic_tract, caption = \"Tract with Highest % Hispanic/Latino\")\n\n# Calculate average demographics by county using group_by() and summarize()\n# Show: number of tracts, average percentage for each racial/ethnic group\n\ncounty_demo_avgs <- tract_percent %>%\n  group_by(county_name) %>%\n  summarise(\n    \"Number of Tracts\" = n(),\n    \"Average White Percentage\" = mean(pct_white, na.rm = TRUE),\n    \"Average Black Percentage\" = mean(pct_black, na.rm = TRUE),\n    \"Average Hispanic Percentage\"  = mean(pct_hispanic, na.rm = TRUE)\n  )\n\n# Create a nicely formatted table of your results using kable()\n\nkable(\n  county_demo_avgs,\n  caption = \"Average Tract Demographics by County\",\n  digits = 1,\n  align = c(\"l\",\"c\",\"c\",\"c\",\"c\"),\n  col.names = c(\"County Names\", \"Number of Tracts\", \"Average White Percentage\",\"Average Black Percentage\",\"Average Hispanic Percentage\")\n)\n\n```\n\n# Part 4: Comprehensive Data Quality Evaluation\n\n## 4.1 MOE Analysis for Demographic Variables\n\n**Your Task:** Examine margins of error for demographic variables to see if some communities have less reliable data.\n\n**Requirements:**\n- Calculate MOE percentages for each demographic variable\n- Flag tracts where any demographic variable has MOE > 15%\n- Create summary statistics\n\n```{r demographic-moe}\n# Calculate MOE percentages for white, Black, and Hispanic variables\n# Hint: use the same formula as before (margin/estimate * 100)\n\n# Create a flag for tracts with high MOE on any demographic variable\n# Use logical operators (| for OR) in an ifelse() statement\n\ncounty_codes_state <- unique(stringr::str_sub(county$GEOID, 3, 5))\n\nrace_vars <- c(\n  total    = \"B03002_001\",\n  white    = \"B03002_003\",\n  black    = \"B03002_004\",\n  hispanic = \"B03002_012\"\n)\n\ntract_state_raw <- get_acs(\n  geography = \"tract\",\n  state     = my_state,\n  county    = county_codes_state,  # all counties in the state\n  survey    = \"acs5\",\n  year      = 2022,\n  variables = race_vars,\n  output    = \"wide\"\n)\n\ntract_state_percent <- tract_state_raw %>%\n  mutate(\n    county_code  = substr(GEOID, 3, 5),\n    pct_white    = 100 * (whiteE    / totalE),\n    pct_black    = 100 * (blackE    / totalE),\n    pct_hispanic = 100 * (hispanicE / totalE),\n    tract_label  = stringr::str_remove(NAME, paste0(\", \", my_state)),\n    tract_label  = stringr::str_remove(tract_label, \", United States$\")\n  ) %>%\n  left_join(\n    county %>%\n      transmute(\n        county_code = substr(GEOID, 3, 5),\n        county_name\n      ),\n    by = \"county_code\"\n  )\n\ntract_quality <- tract_state_percent %>%\n  mutate(\n    moe_total_pct    = 100 * (totalM    / totalE),\n    moe_white_pct    = 100 * (whiteM    / whiteE),\n    moe_black_pct    = 100 * (blackM    / blackE),\n    moe_hispanic_pct = 100 * (hispanicM / hispanicE),\n    high_moe_flag = (moe_white_pct > 15) | (moe_black_pct > 15) | (moe_hispanic_pct > 15)\n  )\n\ntract_quality_summary <- tract_quality %>%\n  summarise(\n    tracts_total     = n(),\n    tracts_high_moe  = sum(high_moe_flag, na.rm = TRUE),\n    percent_high_moe = round(100 * tracts_high_moe / tracts_total, 1)\n  )\n\nkable(\n  tract_quality_summary,\n  caption   = \"Tract-Level High-MOE Summary (>15% on any demographic variable) â€” Statewide\",\n  col.names = c(\"Total Tracts\", \"High-MOE Tracts\", \"Percent High-MOE (%)\"),\n  align     = \"c\"\n)\n```\n\n## 4.2 Pattern Analysis\n\n**Your Task:** Investigate whether data quality problems are randomly distributed or concentrated in certain types of communities.\n\n```{r pattern-analysis}\n# Group tracts by whether they have high MOE issues\n# Calculate average characteristics for each group:\n# - population size, demographic percentages\n\npattern_table <- tract_quality %>%\n  group_by(high_moe_flag, county_name) %>%\n  summarise(\n    tracts         = n(),\n    avg_pop        = mean(totalE, na.rm = TRUE),\n    avg_pct_white  = mean(pct_white, na.rm = TRUE),\n    avg_pct_black  = mean(pct_black, na.rm = TRUE),\n    avg_pct_hispanic = mean(pct_hispanic, na.rm = TRUE),\n    .groups = \"drop\"\n  ) %>%\n  arrange(desc(high_moe_flag), county_name)\n\nkable(\n  pattern_table,\n  caption = \"Characteristics by High-MOE Status (Any Demographic Variable > 15% MOE) â€” Statewide\",\n  col.names = c(\n    \"High-MOE (Any >15%)\",\n    \"County\",\n    \"Tracts\",\n    \"Avg Pop\",\n    \"Avg White (%)\",\n    \"Avg Black (%)\",\n    \"Avg Hispanic (%)\"\n  ),\n  align = c(\"c\",\"l\",\"r\",\"r\",\"r\",\"r\",\"r\"),\n  digits = c(NA, NA, 0, 0, 1, 1, 1),\n  format.args = list(big.mark = \",\")\n)\n\ntract_flag_driver <- tract_quality %>%\n  mutate(\n    flag_white    = moe_white_pct    > 15,\n    flag_black    = moe_black_pct    > 15,\n    flag_hispanic = moe_hispanic_pct > 15,\n    driver_groups = case_when(\n      flag_white & !flag_black & !flag_hispanic ~ \"White\",\n      !flag_white & flag_black & !flag_hispanic ~ \"Black\",\n      !flag_white & !flag_black & flag_hispanic ~ \"Hispanic\",\n      flag_white | flag_black | flag_hispanic   ~ \"Multiple\",\n      TRUE                                       ~ \"None\"\n    )\n  )\n\ndriver_totals <- tract_flag_driver %>%\n  filter(high_moe_flag) %>%\n  summarise(\n    White    = sum(flag_white,    na.rm = TRUE),\n    Black    = sum(flag_black,    na.rm = TRUE),\n    Hispanic = sum(flag_hispanic, na.rm = TRUE)\n  ) %>%\n  tidyr::pivot_longer(everything(),\n                      names_to = \"Group\",\n                      values_to = \"Flagged Tracts\")\n\nkable(\n  driver_totals %>% arrange(desc(`Flagged Tracts`)),\n  caption   = \"Which Groups Drove High-MOE Flags (MOE% > 15) â€” Statewide\",\n  col.names = c(\"Group\", \"Flagged Tracts\"),\n  align     = c(\"l\",\"r\"),\n  format.args = list(big.mark = \",\")\n)\n\n```\n\n**Pattern Analysis:** If we are to detect patterns using the instructions given, then 99.9% of all census tracts are within the MOE margins, meaning there is some type of data error present. That is a clear indication that the issue is effectively random at the tract level. However, collapsing the results by demographic group rather than by tract reveals that the burden of error is not evenly shared: it falls overwhelmingly on minority populations, with Black communities the most affected. This stems from well-known challenges of under-sampling in the ACS, which causes large variations within smaller racial categories. Tracts with high MOEs tend to have smaller populations overall, amplifying sampling error, and even within White-majority tracts the subgroup estimates for Black and Hispanic residents frequently exceed the 15% MOE threshold. In some cases, there are so few observations that subgroup estimates are unstable or missing altogether. Together, these dynamics show that while the pattern may look random at the tract level, the reliability problem is systematically tied to the representation of minority populations, raising clear concerns for algorithmic decision-making.\n\n\n\n# Part 5: Policy Recommendations\n\n## 5.1 Analysis Integration and Professional Summary\n\n**Executive Summary:**\n\nAcross county- and tract-level analyses, two systematic patterns consistently appear. First, tracts and counties with smaller populations tend to have disproportionately high margins of error, making their estimates far less stable than those from larger areas. Second, the reliability of racial and ethnic subgroup estimates varies sharply: Black and Hispanic populations are much more likely to have margins of error above 15%, and in some cases, the ACS does not capture enough observations to produce valid estimates. Together, these patterns show that measurement error is pervasive but not random it reflects structural features of both tract size and demographic composition.\n\nCommunities facing the greatest risk of algorithmic bias are those that are either very small and rural or racially/ethnically diverse. Rural tracts, because of small sample sizes, may be flagged as unreliable and thus deprioritized in automated systems, despite having genuine needs. At the same time, urban minority communities, particularly those with large Hispanic or Black populations, often show the highest subgroup MOEs, meaning their conditions could be systematically misclassified or underestimated. In both cases, the communities already at risk of marginalization are the same ones where the data is least reliable.\n\nThe drivers of these problems are structural. In rural areas, small sample sizes inflate margins of error, while in diverse urban tracts, underrepresentation of minority subgroups disrupts the accuracy of need assessments. This underrepresentation is tied to long-standing stratification in data collection, where certain groups are less visible in surveys, and to socio-spatial self-selection, where minorities concentrate in particular neighborhoods that are often harder to measure with precision. These processes produce systematic biases: the very communities whose needs are greatest â€” low-income, minority, and geographically marginalized â€” are those most likely to be misrepresented in the data.\n\nThe Department should treat reliability as central to its algorithmic framework. Specifically, it should (a) adjust for MOE when prioritizing communities, so noisy estimates are not misclassified as real differences; (b) avoid strict cutoffs in low-confidence areas by using broader eligibility bands; (c) supplement ACS data with administrative or community-level sources in minority-dense neighborhoods where subgroup reliability is weakest; and (d) incorporate transparency and equity audits to ensure that stratification and data gaps do not reinforce existing inequalities. By embedding these safeguards, the Department can ensure its allocation strategies are both statistically sound and socially just.\n\n## 6.3 Specific Recommendations\n\n**Your Task:** Create a decision framework for algorithm implementation.\n\n```{r recommendations-data}\n# Create a summary table using your county reliability data\n# Include: county name, median income, MOE percentage, reliability category\n\nrecommendations <- county_reliability %>%\n  select(\n    County = county_name,\n    `Median Income` = med_hh_incomeE,\n    `MOE %` = moe_percentage,\n    `Reliability Category` = Reliability\n  ) %>%\n  mutate(\n    Recommendation = case_when(\n      `Reliability Category` == \"High Confidence\"     ~ \"Safe for algorithmic decisions\",\n      `Reliability Category` == \"Moderate Confidence\" ~ \"Use with caution â€“ monitor outcomes\",\n      `Reliability Category` == \"Low Confidence\"      ~ \"Requires manual review or additional data\",\n      TRUE                                            ~ NA_character_\n    )\n  )\n\n# Add a new column with algorithm recommendations using case_when():\n# - High Confidence: \"Safe for algorithmic decisions\"\n# - Moderate Confidence: \"Use with caution - monitor outcomes\"  \n# - Low Confidence: \"Requires manual review or additional data\"\n\n# Format as a professional table with kable()\n\nkable(\n  recommendations %>%\n    arrange(Recommendation, County),\n  caption = \"Decision Framework for Algorithm Implementation (Arranged by Recommendation)\",\n  col.names = c(\"County\", \"Median Income\", \"MOE %\", \"Reliability Category\", \"Recommendation\"),\n  digits = 2,\n  format.args = list(big.mark = \",\")\n)\n\n\n```\n\n**Key Recommendations:**\n\n**Your Task:** Use your analysis results to provide specific guidance to the department.\n\n1. **Counties suitable for immediate algorithmic implementation:** Alameda, Butte, Contra Costa, El Dorado, Fresno, Humboldt, Imperial, Kern, Kings, Lake, Los Angeles, Madera Marin, Mendocino, Merced, Monterey, Napa,  Nevada, Orange, Placer, Riverside, Sacramento, San Bernardino, San Diego, San Francisco, San Joaquin, San Luis Obispo, San Mateo, Santa Barbara, Santa Clara, Santa Cruz, Shasta,Siskiyou, Solano, Sonoma, Stainislaus, Sutter, Tulare, Ventura, Yolo, and Yuba  \n\n2. **Counties requiring additional oversight:** Amador, Calaveras, Colusa, Del Norte, Glenn, Inyo, Lassen, Mariposa, Modoc, San Benito, Tehama, and Tuolumne\n\n3. **Counties needing alternative approaches:** Alpine, Mono, Plumas, Sierra, and Trinity\n\n## Questions for Further Investigation\n\n1. Are high-MOE tracts clustered spatially (e.g., along ruralâ€“urban boundaries or in specific regions of the state), or do they appear evenly dispersed?\n\n2. Do MOE patterns persist across ACS releases, or do they improve over time with larger samples? A time-series comparison could reveal whether underrepresentation of minority or rural communities is a persistent structural issue, similar to how you track flood or disaster impacts across years.\n\n3. How do MOE patterns for racial and ethnic groups vary across states? Are high MOEs for Hispanic and Black populations a uniquely California phenomenon, or do they reflect a broader national issue embedded in ACS sampling design?\n\n# Technical Notes\n\n**Data Sources:** \n- U.S. Census Bureau, American Community Survey 2018-2022 5-Year Estimates\n- Retrieved via tidycensus R package on [date]\n\n**Reproducibility:** \n- All analysis conducted in R version 4.5.1\n- Census API key required for replication\n- Complete code and documentation available at: https://musa-5080-fall-2025.github.io/portfolio-setup-MohamadAlAbbas-PhD/\n\n**Methodology Notes:**\nMargins of error (MOE) were standardized as percentages of the estimate, and counties were classified into High, Moderate, and Low Confidence categories using thresholds of <5%, 5â€“10%, and >10% respectively. Reliability flags at the tract level were set when any racial/ethnic subgroup estimate exceeded 15% MOE. No smoothing or imputation was applied to extreme or infinite MOE values; tracts with zero subgroup observations were retained as-is to reflect the raw survey limitations.\n\nCounty codes were extracted directly from GEOID strings to facilitate joins, and descriptive statistics were calculated using simple group means. Data outputs were formatted using kable() for presentation, and no additional modeling or weighting adjustments were performed beyond what the ACS provides.\n\n**Limitations:**\nSeveral limitations should be noted. The scale of our unit of analysis demonstrates that census tract-level analysis tends to carry high MOEs that makes interpretation and deployment of algorithmic solutions problematic rather it might be ideal to use county-level analysis. Second, subgroup estimates for racial and ethnic minorities often carried very high MOEs, and in some cases, no observations were available, producing infinite or undefined percentages. These issues were left unadjusted to remain consistent with assignment instructions but highlight important data reliability challenges.\n\nThird, the analysis is limited to a single 5-year ACS period; no longitudinal comparison was made to assess whether MOE patterns persist or shift over time. Finally, aggregating tract-level characteristics to the county level masks within-county variability that may be relevant for equity considerations. \n\n---\n\n## Submission Checklist\n\nBefore submitting your portfolio link on Canvas:\n\n- [ ] All code chunks run without errors\n- [ ] All \"[Fill this in]\" prompts have been completed\n- [ ] Tables are properly formatted and readable\n- [ ] Executive summary addresses all four required components\n- [ ] Portfolio navigation includes this assignment\n- [ ] Census API key is properly set \n- [ ] Document renders correctly to HTML\n\n**Remember:** Submit your portfolio URL on Canvas, not the file itself. Your assignment should be accessible at `your-portfolio-url/assignments/assignment_1/your_file_name.html`"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"message":false,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"output-file":"assignment1_template.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.24","theme":"cosmo","title":"Assignment 1: Census Data Quality for Policy Decisions","subtitle":"Evaluating Data Reliability for Algorithmic Decision-Making","author":"Mohamad Al Abbas","date":"today","toc-location":"left"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}